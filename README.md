# NG ワード検索ブロッカー

特定の NG ワードを含む検索クエリをブロックする Chrome 拡張機能です。
個人利用・ローカル環境での使用を想定しています。

## 主な機能

### 検索ブロック機能

- Google、Bing、DuckDuckGo、Yahoo! JAPAN での検索をリアルタイムでブロック

### NG ワード管理

- 自由に NG ワードの追加・削除が可能
- 一括登録機能（改行区切りで複数のワードを一度に登録）
- 正規表現モードに対応

### 一時解除機能

- 5 分/10 分/30 分の一時的なブロック解除
- 指定時間経過後の自動復帰

### 備考

- 完全オフラインで動作します。検索クエリは一切保存されません。

## 📦 インストール方法

### 1. 拡張機能の読み込み

1. Chrome で `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を有効化
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `ngword-blocker` フォルダを選択

### 2. 初期設定

1. 拡張機能アイコンを右クリック → 「オプション」
2. 最初の NG ワードを登録

## 使用例

### 基本的な使い方

#### 1. NG ワードの登録

**シンプルな単語登録：**

```
ニュース
株価
芸能
```

**複数単語の一括登録：**

```
ニュース
株価情報
テレビ番組
スポーツ結果
政治ニュース
```

#### 2. 検索のブロック

NG ワード「ニュース」を登録した場合：

- ❌ ブロックされる検索：

  - `今日のニュース`
  - `ニュース速報`
  - `経済ニュースまとめ`

- ✅ ブロックされない検索：
  - `天気予報`
  - `レシピ 検索`
  - `Python チュートリアル`

### 高度な設定

#### 正規表現モードの活用

正規表現モードで、より柔軟に NG ワードを設定できます：

```regex
^ニュース.*           # 「ニュース」で始まる検索（先頭一致）
.*(株価|相場).*       # 「株価」または「相場」を含む検索
[0-9]+年.*月.*日      # 日付形式（例：2024年1月1日）
```

#### 語境界設定（英語）

英語の単語に対して語境界を適用する場合：

```
news     # 「newsletter」はマッチしない（語境界あり）
stock    # 「stockings」はマッチしない（語境界あり）
```

## 設定画面の使い方

### NG ワード管理タブ

#### 個別削除

登録済み NG ワードリストの「削除」ボタンをクリック

#### 一括編集

1. テキストエリアに 1 行 1 単語で入力
2. 「リストを更新」ボタンをクリック

#### インポート/エクスポート

**エクスポート：**

- 「JSON エクスポート」ボタンで設定をファイルに保存

**インポート：**

- 「JSON インポート」ボタンで以前の設定を復元

### 拡張機能設定

#### 正規表現モードを有効にする

- NG ワードを正規表現として解釈
- より高度なパターンマッチングが可能

#### 英語のみ語境界を適用

- 英単語の部分一致を防ぐ
- 正規表現モード時のみ有効

### 一時解除機能

1. 5 分/10 分/30 分から選択
2. 「無効化を開始」ボタンをクリック
3. 指定時間経過後、自動的にブロックが再開

## ブロック画面の操作

検索がブロックされると専用ページが表示されます：

### 表示内容

- **該当する NG ワード：** マッチした NG ワード
- **検索サイト：** ブロックが発生したサイト名

### 利用可能なアクション

- **NG ワード設定を編集：** 設定画面を開く

## 対応検索サイト

### 完全対応

- Google 検索 (.com, .co.jp, .co.uk, .de, .fr)
- Bing 検索
- DuckDuckGo
- Yahoo! JAPAN 検索

### 対応機能

- 通常の検索フォーム
- 直接 URL 入力
- ページ内での再検索（SPA）
- キーボードショートカット（Enter）

## プライバシーとセキュリティ

### データ保護

- 検索履歴は記録されません
- NG ワードと設定のみローカル保存
- 外部サーバーとの通信なし

### 最小権限

- 必要最小限の権限のみ使用
- 対象検索サイトのみアクセス
- プライベート情報へのアクセスなし

### データの場所

- 設定：`chrome.storage.local`
- 永続化：ブラウザのローカルストレージ
- 削除：拡張機能のアンインストールで完全消去

## その他

### 📝 JSON 設定ファイル形式

バックアップ/インポート用の JSON ファイル形式：

```json
{
  "ngWords": ["ニュース", "株価", "芸能"],
  "settings": {
    "useRegex": false,
    "useWordBoundaryEN": false,
    "showBadge": true
  }
}
```

#### フィールド説明

- `ngWords`: NG ワードの配列
- `settings.useRegex`: 正規表現モードの有効/無効
- `settings.useWordBoundaryEN`: 英語語境界の有効/無効
- `settings.showBadge`: バッジ表示の有効/無効

### 制限事項

- JavaScript 無効環境では動作不可
